#!/usr/bin/gnuplot
# Generate output.svg based on mitglieder.csv

set terminal png
set output "output.png"

set xdata time
set timefmt "%Y%m%d"
set xlabel "Datum"
set format x "%m/%y"
set key outside center right
#set ytics ...

ymax = 14000

### define colors for election markers
col_europa = "#0000ff"
col_bund = "#000000"
col_land = "#888888"

### define markers for elections
set arrow from "20090118",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl HE
set arrow from "20090607",0 rto 0,ymax nohead lt rgb col_europa # Europawahl 2009
set arrow from "20090830",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl SL,SN,TH
set arrow from "20090927",0 rto 0,ymax nohead lt rgb col_bund # Bundestagswahl 2009
set arrow from "20090927",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl BB,SH
set arrow from "20100509",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl NRW
set arrow from "20110220",0 rto 0,ymax nohead lt rgb col_land # Bürgerschaftswahl HH
set arrow from "20110320",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl LSA
set arrow from "20110327",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl BW
set arrow from "20110327",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl RP
set arrow from "20110522",0 rto 0,ymax nohead lt rgb col_land # Bürgerschaftswahl HB
set arrow from "20110904",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl MV
set arrow from "20110918",0 rto 0,ymax nohead lt rgb col_land # Abgeordnetenhauswahl BE

### define colors for LVs
col_out = "#0b0bf3"
col_sl = "#4b4bb3"
col_hb = "#7a7a84"
col_th = "#aaaa54"
col_lsa = "#baba44"
col_mv = "#c9c935"
col_bb = "#d9d925"
col_sn = "#e9e915"
col_sh = "#f9f905"
col_rp = "#ffe400"
col_hh = "#ffc500"
col_be = "#ffa500"
col_he = "#ff8500"
col_nds = "#ff6600"
col_bw = "#ff2600"
col_nrw = "#ff0000"
col_by = "#e60000"

plot \
 'mitglieder.csv' using 1:18 t "Ausland" w filledcurves x1 lt rgb col_out, \
 'mitglieder.csv' using 1:17 t "LV SL" w filledcurves x1 lt rgb col_sl, \
 'mitglieder.csv' using 1:16 t "LV HB" w filledcurves x1 lt rgb col_hb, \
 'mitglieder.csv' using 1:15 t "LV TH" w filledcurves x1 lt rgb col_th, \
 'mitglieder.csv' using 1:14 t "LV LSA" w filledcurves x1 lt rgb col_lsa, \
 'mitglieder.csv' using 1:13 t "LV MV" w filledcurves x1 lt rgb col_mv, \
 'mitglieder.csv' using 1:12 t "LV BB" w filledcurves x1 lt rgb col_bb, \
 'mitglieder.csv' using 1:11 t "LV SN" w filledcurves x1 lt rgb col_sn, \
 'mitglieder.csv' using 1:10 t "LV SH" w filledcurves x1 lt rgb col_sh, \
 'mitglieder.csv' using 1:9 t "LV RP" w filledcurves x1 lt rgb col_rp, \
 'mitglieder.csv' using 1:8 t "LV HH" w filledcurves x1 lt rgb col_hh, \
 'mitglieder.csv' using 1:7 t "LV BE" w filledcurves x1 lt rgb col_be, \
 'mitglieder.csv' using 1:6 t "LV HE" w filledcurves x1 lt rgb col_he, \
 'mitglieder.csv' using 1:5 t "LV NDS" w filledcurves x1 lt rgb col_nds, \
 'mitglieder.csv' using 1:4 t "LV BW" w filledcurves x1 lt rgb col_bw, \
 'mitglieder.csv' using 1:3 t "LV NRW" w filledcurves x1 lt rgb col_nrw, \
 'mitglieder.csv' using 1:2 t "LV BY" w filledcurves x1 lt rgb col_by
