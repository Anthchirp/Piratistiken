#!/usr/bin/gnuplot
# Generate output.svg based on mitglieder.csv

set terminal png
set output "output.png"

set xdata time
set timefmt "%Y%m%d"
set xlabel "Datum"
set format x "%m/%y"
set key outside center right
#set ytics ...

ymax = 14000

### define colors for special date markers
col_europa = "#0000ff"
col_bund = "#000000"
col_land = "#a5a5a5"
col_bpt = "#ffa500"

### define markers for special dates

set arrow from "20060910",0 rto 0,ymax nohead lt rgb col_bpt # Gründungsversammlung
set arrow from "20080517",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2008.1
set arrow from "20080518",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2008.1
set arrow from "20081003",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2008.2
set arrow from "20081004",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2008.2
set arrow from "20081005",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2008.2
set arrow from "20090118",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl HE
set arrow from "20090607",0 rto 0,ymax nohead lt rgb col_europa # Europawahl 2009
set arrow from "20090704",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2009.1
set arrow from "20090705",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2009.1
set arrow from "20090830",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl SL,SN,TH
set arrow from "20090927",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl BB,SH
set arrow from "20090927",0 rto 0,ymax nohead lt rgb col_bund # Bundestagswahl 2009
set arrow from "20100509",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl NRW
set arrow from "20100515",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2010.1
set arrow from "20100516",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2010.1
set arrow from "20101120",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2010.2
set arrow from "20101121",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2010.2
set arrow from "20110220",0 rto 0,ymax nohead lt rgb col_land # Bürgerschaftswahl HH
set arrow from "20110320",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl LSA
set arrow from "20110327",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl BW
set arrow from "20110327",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl RP
set arrow from "20110514",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2011.1
set arrow from "20110515",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2011.1
set arrow from "20110522",0 rto 0,ymax nohead lt rgb col_land # Bürgerschaftswahl HB
set arrow from "20110904",0 rto 0,ymax nohead lt rgb col_land # Landtagswahl MV
set arrow from "20110918",0 rto 0,ymax nohead lt rgb col_land # Abgeordnetenhauswahl BE
set arrow from "20111203",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2011.2
set arrow from "20111204",0 rto 0,ymax nohead lt rgb col_bpt # BPT 2011.2

### define colors for LVs
col_out = "#5f9812"
col_sl = "#65cb39"
col_hb = "#9ff8e8"
col_th = "#8ea5f9"
col_lsa = "#8171fc"
col_mv = "#7a4ce6"
col_bb = "#824f7f"
col_sn = "#9f4c36"
col_sh = "#be472e"
col_rp = "#f14122"
col_hh = "#ef8129"
col_be = "#eda32d"
col_he = "#dcba2e"
col_nds = "#9eac25"
col_bw = "#5b9c1c"
col_nrw = "#2d8b13"
col_by = "#136707"

plot \
 'mitglieder.csv' using 1:18 t "Ausland" w filledcurves x1 lt rgb col_out, \
 'mitglieder.csv' using 1:17 t "LV SL" w filledcurves x1 lt rgb col_sl, \
 'mitglieder.csv' using 1:16 t "LV HB" w filledcurves x1 lt rgb col_hb, \
 'mitglieder.csv' using 1:15 t "LV TH" w filledcurves x1 lt rgb col_th, \
 'mitglieder.csv' using 1:14 t "LV LSA" w filledcurves x1 lt rgb col_lsa, \
 'mitglieder.csv' using 1:13 t "LV MV" w filledcurves x1 lt rgb col_mv, \
 'mitglieder.csv' using 1:12 t "LV BB" w filledcurves x1 lt rgb col_bb, \
 'mitglieder.csv' using 1:11 t "LV SN" w filledcurves x1 lt rgb col_sn, \
 'mitglieder.csv' using 1:10 t "LV SH" w filledcurves x1 lt rgb col_sh, \
 'mitglieder.csv' using 1:9 t "LV RP" w filledcurves x1 lt rgb col_rp, \
 'mitglieder.csv' using 1:8 t "LV HH" w filledcurves x1 lt rgb col_hh, \
 'mitglieder.csv' using 1:7 t "LV BE" w filledcurves x1 lt rgb col_be, \
 'mitglieder.csv' using 1:6 t "LV HE" w filledcurves x1 lt rgb col_he, \
 'mitglieder.csv' using 1:5 t "LV NDS" w filledcurves x1 lt rgb col_nds, \
 'mitglieder.csv' using 1:4 t "LV BW" w filledcurves x1 lt rgb col_bw, \
 'mitglieder.csv' using 1:3 t "LV NRW" w filledcurves x1 lt rgb col_nrw, \
 'mitglieder.csv' using 1:2 t "LV BY" w filledcurves x1 lt rgb col_by
